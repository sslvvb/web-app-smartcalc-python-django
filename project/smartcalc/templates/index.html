<!DOCTYPE html>
<html>

<head>
  <title>SmartCalc</title>
  <style>
    html {
      background-color: rgb(248, 248, 248);
    }

    .container {
      display: flex;
      justify-content: center;
      height: 350px;
    }

    .calculator {
      border: 1px solid #ccc;
      padding: 10px;
      width: 620px;
      background-color: rgba(236, 236, 236);
      border-radius: 10px;
      box-shadow: 12px 12px 2px 1px rgba(255, 214, 230);
    }

    .calculator input {
      margin-bottom: 5px;
      padding: 10px;
      font-size: 16px;
      color: rgba(64, 65, 1);
      border-radius: 10px;
      background-color: rgba(236, 236, 236);
      border-color: rgba(64, 65, 1);
      font-weight: bold;
    }

    .calculator button {
      width: 100px;
      padding: 10px;
      font-size: 16px;
      border-radius: 10px;
      border-color: rgba(64, 65, 1);
      color: rgba(64, 65, 1);
      margin-bottom: 5px;
      font-weight: bold;
    }

    .expression-input {
      width: 595px;
    }

    .x-input {
      width: 283px;
    }

    .btn-pink {
      background-color: rgba(255, 214, 230);
    }

    a {
      color: rgba(64, 65, 1);
      text-decoration: none;
      font-size: 18px;
    }
  </style>
  <!-- 
  <script>
    // Define a variable to store the entered expression
    let expression = '';

    // Function to append values to the expression variable
    function appendValue(value) {
      expression += value;
    }

    // Function to clear the expression variable and input field
    function clearExpression() {
      expression = '';
      document.getElementById('expression').value = '';
    }

    // Function to evaluate the expression and submit the form
    function evaluateExpression() {
      document.getElementById('expression').value = expression;
      document.getElementById('calculationForm').submit();
    }
  </script> -->

</head>

<body>

  <div style="text-align: center; margin-top: 20px; margin-bottom: 20px; ">
    <a href="index.html">Calculator</a> | <a href="about.html">About</a>
  </div>

  <div class="container">
    <div class="calculator">
      <input type="text" class="expression-input" id="expression" name="expression" placeholder="Enter an expression">

      <br>
      <button>GRAPH</button>
      <button onclick="appendValue('x')">x</button>
      <input type="text" class="x-input" id="double_num" name="double_num" value="1.0">
      <button class="btn-pink" onclick="clearExpression()">AC</button>
      <br>
      <button onclick="appendValue('sin')">sin</button>
      <button onclick="appendValue('asin')">asin</button>
      <button onclick="appendValue('e')">e</button>
      <button onclick="appendValue('(')">(</button>
      <button onclick="appendValue(')')">)</button>
      <button class="btn-pink" onclick="appendValue('^')">^</button>
      <br>
      <button onclick="appendValue('cos')">cos</button>
      <button onclick="appendValue('acos')">acos</button>
      <button onclick="appendValue('1')">1</button>
      <button onclick="appendValue('2')">2</button>
      <button onclick="appendValue('3')">3</button>
      <button class="btn-pink" onclick="appendValue('/')">/</button>
      <br>
      <button onclick="appendValue('tan')">tan</button>
      <button onclick="appendValue('atan')">atan</button>
      <!-- <button onclick="appendValue('4'); return false;">4</button> -->
      <button onclick="appendValue('4');">4</button>
      <button onclick="appendValue('5')">5</button>
      <button onclick="appendValue('6')">6</button>
      <button class="btn-pink" onclick="appendValue('*')">*</button>
      <br>
      <button onclick="appendValue('0')">mod</button>
      <button onclick="appendValue('ln')">ln</button>
      <button onclick="appendValue('7')">7</button>
      <button onclick="appendValue('8')">8</button>
      <button onclick="appendValue('9')">9</button>
      <button class="btn-pink" onclick="appendValue('-')">-</button>
      <br>
      <button onclick="appendValue('sqrt')">sqrt</button>
      <button onclick="appendValue('log')">log</button>
      <button onclick="appendValue('.')">.</button>
      <button onclick="appendValue('0')">0</button>
      <form action="/calculate" method="POST"> <!-- Added form element with action and method attributes -->
        {% csrf_token %} <!-- Added CSRF token for security -->
        <button onclick="evaluateExpression()">=</button>
      </form>
      <button class="btn-pink" onclick="appendValue('+')">+</button>
      <br>
    </div>
  </div>

  <!-- <form action="/your-name/" method="post">
    <label for="your_name">Your name: </label>
    <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
    <input type="submit" value="OK">
  </form> -->

  <script>
    // function evaluateExpression() {
    //   var expression = document.getElementById('expression').value;
    //   var result = eval(expression);
    //   document.getElementById('expression').value = result;
    // }

    function appendValue(value) {
      document.getElementById('expression').value += value;
    }

    function evaluateExpression() {
      var expression = document.getElementById('expression').value;
      var result = eval(expression);
      document.getElementById('result').textContent = "Result: " + result; // Display the result in the div
      document.getElementById('expression').value = result;
    }

    function clearExpression() {
      document.getElementById('expression').value = '';
    }
  </script>
</body>

</html>
